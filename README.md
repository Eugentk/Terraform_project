## Основные понятия Terraform

**Terraform** – это инструмент от компании **Hashicorp**, помогающий в парадигме [Infrastructure as a Code](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0_%D0%BA%D0%B0%D0%BA_%D0%BA%D0%BE%D0%B4) управлять инфраструктрой. В данном случае не приходится вручную создавать инстансы, сети и т.д. в консоли нашего облачного провайдера.
	Достаточно написать конфигурацию, в которой будет изложено, как мы видим нашу будущую инфраструктуру. Такая конфигурация создается в человеко-читаемом текстовом формате. Если мы хотим изменить нашу инфраструктуру, то редактируем конфигурацию и запускаете terraform apply. 
При запуске Terraform читает код и, используя представленные провайдерами облачного сервиса плагины, приводит нашу инфраструктуру к описанному состоянию, совершая необходимые вызовы к API.


## **Основные составляющие Terraform**

[**Провайдеры**](https://www.terraform.io/docs/providers/index.html)  — это плагины для работы с API того или иного сервиса. В их числе провайдеры для Amazon, Google, DigitalOcean, VMware Vsphere, Docker.   

[**Ресурсы**](https://www.terraform.io/docs/configuration/resources.html) - это сущности облака, которую мы можем создавать, используя Terraform. Их список, синтаксис и свойства зависят от используемого провайдера, по сути — от используемого облака. Или не только облака.

[**Модули**](https://registry.terraform.io) - это сущности, при помощи которых Terraform позволяет нам шаблонизировать нашу конфигурацию. Тем самым шаблоны позволяют сделать наш код меньше, позволяют переиспользовать его. Ну и помогают комфортно с ним работать. 


## **Начало Работы с Terraform**

#### **Установка**

##### **Установка в Ubuntu**
Заходим на официальный сайт [Terraform.io](https://www.terraform.io/downloads.html) в разделе Downloads, выбираем нашу ОС и копируем адрес ссылки на установочный пакет.
Переходим в консоль нашей ОС и скачаем архив с Terraform.

```
wget наша ссылка
```
Затем распаковываем наш архив командой.

```
unzip имя архива

```  
Полученный, после распаковки файл необходимо скопировать в директорию /bin

```
sudo mv terraform /bin/
```
Для проверки того, что terraform у нас установлен запустим команду в терминале

```
terraform --version
```
Результат должен показать текущую установлению версию terraform.


##### **Установка под Windows и Mac OS**

[Инструкция по установке Terraform](https://learn.hashicorp.com/terraform/getting-started/install)

## Основные команды Terraform

```
terraform init 
```

Команда инициирует создание ресурсов, для этого скачивает плагины того оператора в котором и будут созданы ресурсы.

```
terraform plan
```
Команда показывает какие ресурсы будут созданы.

```
terraform apply
```
Команда инициирует создание ресурсов описанных в terraform file.

```
terraform destroy 
```
Команда инициирует удаление ранее созданных ресурсов описанных в terraform file.

Все файлы terraform имеют разширение .tf Всю информацию об создаваемой инфраструктур terraform хранит в так называемых stage-файлах. По умолчанию это файл terraform.tfstate в каталоге проекта. Перед выполнением apply — TF создаст бекап текущего state-файла (если он есть) в файл terraform.tfstate.backup